MAS SATS Token Contract Template
=====================================

This is the exact contract template that gets customized with user inputs.

TEMPLATE PLACEHOLDERS (what gets replaced):
- CONTRACT_OWNER: Gets replaced with user's wallet address
- TOKEN_NAME: Gets replaced with user's token name input
- TOKEN_SYMBOL: Gets replaced with user's token symbol input
- symbol.toLowerCase(): Gets replaced with lowercase version of user's symbol
- connectedAddress: Gets replaced with user's connected wallet address

=====================================

(impl-trait 'ST2SHP0RSX5ST9HTKJM4JF6SGQ686P4GJGF2XHHTX.sip-010-trait-ft-standard.sip-010-trait)

;; ---- Constants ----
(define-constant CONTRACT_OWNER 'ST37918Q7NBZ52AMV133VTY5C864KVK0S2HZ3CGA4) ;; ← Gets replaced with user's wallet address
(define-constant TOKEN_NAME "Sample Token") ;; ← Gets replaced with user's token name input
(define-constant TOKEN_SYMBOL "SAMPLE") ;; ← Gets replaced with user's token symbol input
(define-constant TOKEN_DECIMALS u8)
(define-constant MAX_SUPPLY u2100000000000000) ;; ← Fixed supply: 21 million tokens with 8 decimals
(define-constant DEX_CONTRACT 'ST37918Q7NBZ52AMV133VTY5C864KVK0S2HZ3CGA4.mas-sats-dex) ;; ← Gets replaced with user's wallet address as the principal

;; ---- Errors ----
(define-constant ERR_UNAUTHORIZED (err u100))
(define-constant ERR_ALREADY_MINTED (err u101))
(define-constant ERR_INVALID_AMOUNT (err u102))
(define-constant ERR_NOTHING_TO_UNLOCK (err u103))
(define-constant ERR_NOT_MAJORITY (err u104))
(define-constant ERR_NO_MAJORITY_HOLDER (err u105))

;; ---- Token Definition ----
(define-fungible-token sample-token MAX_SUPPLY) ;; ← Gets replaced with user's symbol: "symbol-token"

;; ---- Metadata + Mint State ----
(define-data-var token-uri (optional (string-utf8 256)) none)
(define-data-var minted bool false)

;; ---- Token Locking System ----
(define-map locked-balances { user: principal } { amount: uint })
(define-data-var total-locked uint u0)
(define-data-var majority-holder (optional principal) none)

;; ---- SIP-010 Read-Only Functions ----
(define-read-only (get-balance (who principal))
  (ok (ft-get-balance sample-token who)) ;; ← Gets replaced with user's token reference
)

(define-read-only (get-total-supply)
  (ok (ft-get-supply sample-token)) ;; ← Gets replaced with user's token reference
)

(define-read-only (get-name)
  (ok TOKEN_NAME)
)

(define-read-only (get-symbol)
  (ok TOKEN_SYMBOL)
)

(define-read-only (get-decimals)
  (ok TOKEN_DECIMALS)
)

(define-read-only (get-token-uri)
  (ok (var-get token-uri))
)

;; ---- SIP-010 Transfer Function ----
(define-public (transfer (amount uint) (from principal) (to principal) (memo (optional (buff 34))))
  (begin
    (asserts! (is-eq from tx-sender) ERR_UNAUTHORIZED)
    (ft-transfer? sample-token amount from to) ;; ← Gets replaced with user's token reference
  )
)

;; ---- Send Many Function for Airdrops ----
(define-public (send-many (recipients (list 200 { to: principal, amount: uint, memo: (optional (buff 34)) })))
  (fold check-err (map send-token recipients) (ok true))
)

(define-private (check-err (result (response bool uint)) (prior (response bool uint)))
  (match prior ok-value result err-value (err err-value))
)

(define-private (send-token (recipient { to: principal, amount: uint, memo: (optional (buff 34)) }))
  (send-token-with-memo (get amount recipient) (get to recipient) (get memo recipient))
)

(define-private (send-token-with-memo (amount uint) (to principal) (memo (optional (buff 34))))
  (let ((transferOk (try! (transfer amount tx-sender to memo))))
    (ok transferOk)
  )
)

;; ---- Optional Metadata Setter (Majority Holder Only) ----
(define-public (set-token-uri (value (string-utf8 256)))
  (begin
    (asserts! (is-eq (var-get majority-holder) (some tx-sender)) ERR_UNAUTHORIZED)
    (var-set token-uri (some value))
    (ok true)
  )
)

;; ---- One-Time Mint to DEX Contract ----
(define-public (mint-entire-supply-to-dex)
  (begin
    (asserts! (is-eq tx-sender CONTRACT_OWNER) ERR_UNAUTHORIZED)
    (asserts! (is-eq (var-get minted) false) ERR_ALREADY_MINTED)
    (try! (ft-mint? sample-token MAX_SUPPLY DEX_CONTRACT)) ;; ← Gets replaced with user's token reference
    (var-set minted true)
    (ok true)
  )
)

;; ---- Token Locking System ----

(define-public (lock-tokens (amount uint))
  (begin
    (asserts! (> amount u0) ERR_INVALID_AMOUNT)
    (try! (ft-transfer? sample-token amount tx-sender (as-contract tx-sender))) ;; ← Gets replaced with user's token reference
    (let ((currently-locked (default-to u0 (get amount (map-get? locked-balances { user: tx-sender })))))
      (map-set locked-balances { user: tx-sender } { amount: (+ currently-locked amount) })
      (var-set total-locked (+ (var-get total-locked) amount))
    )
    (ok true)
  )
)

(define-public (unlock-tokens (amount uint))
  (let ((locked (default-to u0 (get amount (map-get? locked-balances { user: tx-sender })))))
    (begin
      (asserts! (> amount u0) ERR_INVALID_AMOUNT)
      (asserts! (>= locked amount) ERR_NOTHING_TO_UNLOCK)
      (try! (ft-transfer? sample-token amount (as-contract tx-sender) tx-sender)) ;; ← Gets replaced with user's token reference
      (map-set locked-balances { user: tx-sender } { amount: (- locked amount) })
      (var-set total-locked (- (var-get total-locked) amount))
      (ok true)
    )
  )
)

(define-public (claim-majority-holder-status)
  (let (
    (user-locked (default-to u0 (get amount (map-get? locked-balances { user: tx-sender }))))
    (total (var-get total-locked))
  )
    (begin
      (asserts! (> total u0) ERR_NOTHING_TO_UNLOCK)
      (if (> (* user-locked u100) (/ (* total u100) u2))
        (begin
          (var-set majority-holder (some tx-sender))
          (ok true)
        )
        ERR_NOT_MAJORITY
      )
    )
  )
)

;; ---- Read-Only Functions for Locking System ----

(define-read-only (get-locked-balance (user principal))
  (ok (default-to u0 (get amount (map-get? locked-balances { user: user }))))
)

(define-read-only (get-total-locked)
  (ok (var-get total-locked))
)

(define-read-only (get-majority-holder)
  (ok (var-get majority-holder))
)

=====================================

EXAMPLE OUTPUT (if user enters "My Cool Token" and "MCT"):

(define-constant CONTRACT_OWNER 'ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM) ;; ← Your wallet address
(define-constant TOKEN_NAME "My Cool Token") ;; ← Your token name: "My Cool Token"
(define-constant TOKEN_SYMBOL "MCT") ;; ← Your token symbol: "MCT"
(define-fungible-token mct-token MAX_SUPPLY) ;; ← Token contract name: "mct-token"

And all the ft-get-balance, ft-transfer?, etc. functions will reference "mct-token" instead of "sample-token"

=====================================

WHAT STAYS THE SAME (NOT CUSTOMIZABLE):
- TOKEN_DECIMALS: Always u8 (8 decimal places)
- MAX_SUPPLY: Always u2100000000000000 (21 million * 10^8)
- DEX_CONTRACT: Always points to the MAS SATS DEX
- All the locking system functionality
- All the SIP-010 standard functions
- All error codes and contract structure
